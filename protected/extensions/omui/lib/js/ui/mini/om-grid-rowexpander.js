(function(e){e.omWidget.addInitListener("om.omGrid",function(){var t=this,n=this.options,r=n.rowDetailsProvider,i=n.colModel,s=this.thead;if(!(r&&i.length>0))return;s.find("th:first").before('<th align="center" axis="expenderCol" class="expenderCol" rowspan='+(e.isArray(i[0])?i.length:1)+'><div style="text-align: center; width: 14px;"></div></th>');var o=-1,u=0;i=this._getColModel(),e(i).each(function(e){i[e].width=="autoExpand"?o=e:u+=i[e].width});var a=s.find('th[axis="expenderCol"]').width();if(o!=-1)s.find('th[axis="col'+o+'"] >div').css("width","-="+a);else if(n.autoFit){var f=a/u;s.find('th[axis^="col"] >div').each(function(t){e(this).css("width","-="+parseInt(i[t].width*f))})}var l=this._getHeaderCols().size();this.tbody.delegate("td.expenderCol >div","click",function(n){var i=e(this),s=i.closest("tr"),o=s.next("tr");if(o.hasClass("rowExpand-rowDetails"))o.toggle();else{var u=t._getTrs().index(s);rowData=t._getRowData(u),rowDetails=r?r(rowData,u):"&#160;",s.after('<tr class="rowExpand-rowDetails"><td colspan="'+(l-1)+'"><div class="rowExpand-rowDetails-content">'+rowDetails+"</div></td></tr>")}return i.toggleClass("rowExpand-expanded").parent().attr("rowspan",i.hasClass("rowExpand-expanded")?2:1),!1})})})(jQuery);